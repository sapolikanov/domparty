{
  "hash": "e5e76212723897c3bffe8187308c573a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data Building\"\nformat: \n  pdf:\n    fig-pos: \"H\"\n    fontsize: 11pt\n    highlight-style: kate\n    include-in-header:\n      - text: |\n          \\addtokomafont{disposition}{\\rmfamily} \n          \\AddToHook{env/Highlighting/begin}{\\scriptsize} \n          \\usepackage{float} \n          \\usepackage[backend = biber, style = apa]{biblatex}\n          \\addbibresource{../../bibliography/domparty.bib}\nexecute: \n  echo: true\n  warning: false\n  error: false\n  message: false\n---\n\n\n\n\nI start with reading in the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nparty_class <- read_excel(here(\"data\", \"data_raw\", \"partyreg.xlsx\"))\ncolonial <- read_csv(here(\"data\", \"data_raw\", \"COLDAT_colonies.csv\"))\nvdem <- readRDS(here(\"data\", \"data_raw\", \"V-Dem-CY-Full+Others-v10.rds\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncy <- str_c(party_class$ccodecow, party_class$year, sep = \"_\")\n```\n:::\n\n\nI construct dummies for the colonial legacies of sub-Saharan African countries from the Colonial Dates dataset \\parencite{becker_colonial_2019}.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncol_legacy <- colonial |> \n  mutate(ccodecow = countryname(country, destination = \"cown\")) |> \n  filter(ccodecow %in% party_class$ccodecow) |> \n  reframe(ccodecow, col.britain, col.france,\n          col.other = if_else((col.britain == 0 & col.france == 0)\n                              & (col.belgium == 1 | col.germany == 1\n                                 | col.italy == 1 | col.netherlands == 1\n                                 | col.portugal == 1 | col.spain == 1), 1, 0),\n          col.none = if_else(col.other == 0 & col.britain == 0\n                             & col.france == 0, 1, 0),\n          col.type = case_when(col.britain == 1 & col.france == 0 \n                               & col.other == 0 ~ \"Britain\",\n                               col.france == 1 & col.britain == 0 \n                               & col.other == 0 ~ \"France\",\n                               col.other == 1 & col.britain == 0 \n                               & col.france == 0 ~ \"Other\",\n                               col.none == 1 ~ \"None\",\n                               .default = \"Mixed\"))\n\nggplot(col_legacy, aes(x = col.type)) +\n  geom_bar() +\n  labs(title = \"Colonial Legacies of Sub-Saharan African Countries\",\n       x = \"\\nColonial Power\",\n       y = \"Number of Countries\")\n```\n\n::: {.cell-output-display}\n![](data_building_files/figure-pdf/modify colonial dates data-1.pdf)\n:::\n:::\n\n\nThe result is that some countries had colonial histories with both Britain and France, either of those a different metropole, or were not colonized at all.\n\nParty system institutionalization data comes from V-Dem v10 (march 2020) \\parencite{coppedge_v-dem_2020}. \n\n\n::: {.cell}\n\n```{.r .cell-code}\npsi <- vdem |> \n  select(country_name, ccowcode = COWcode, year, v2xps_party) |> \n  mutate(v2xps_party_fill = if_else(is.na(v2xps_party)\n                                    & str_c(ccowcode, year, sep = \"_\") %in% cy,\n                                    round(mean(v2xps_party[year >= 2013 & year <= 2018], \n                                         na.rm = T), 3), v2xps_party)) |> \n  filter(str_c(ccowcode, year, sep = \"_\") %in% cy)\n```\n:::\n\n\nThere are two instances when the PSI index is not recorded by V-Dem in the delineated geographical and temporal scope: Mali in 2013 and Guinea in 2013. I fill these with the mean of the PSI index for these countries for the years 2013-2018. This may be suboptimal, so I also provide a sensitivity analysis to this choice.\n\n\n\n",
    "supporting": [
      "data_building_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}